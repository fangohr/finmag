fangohr: Still testing ...
2012-02-12 21:32:46 fangohr: And more testing.
2012-02-12 21:33:40 fangohr: Working on logging this session automatically.
2012-02-12 21:42:44 fangohr: If all goes well, then this note will be auto-committed tonight to the mercurial repository.
2012-02-13 09:19:35 HansFangohr: Morning everybody.
2012-02-13 11:24:25 ww1g11: Hello, this is Weiwei.
2012-02-13 11:24:52 HansFangohr: Yuuhouu, well done Weiwei :)
2012-02-13 12:06:41 HansFangohr: Anybody up for lunch? When? 12:30? 13:00?
2012-02-13 12:46:53 mb8g11: 13:00 is good.
2012-02-13 12:54:14 HansFangohr: Okay, let's make it so.
2012-02-13 12:54:55 andersej: I'll join!
2012-02-13 16:31:45 mb8g11: How can I make sure if I work on a matrix or a vector?
2012-02-13 17:14:43 HansFangohr: If I understand the question correctly, and this is about numpy.arrays, you can use the 'shape' attribute of an array to distingish them.
2012-02-14 09:44:31 andersej: Good morning, Hans!
2012-02-14 09:46:43 HansFangohr: Good morning, Sir :)
2012-02-14 09:54:58 HansFangohr: Hi Anders, I played a little with your code, and added a comment to the story in pivotal -- not sure whether you get email notification for this?
2012-02-14 09:56:31 HansFangohr: Marc-Antonio (mb8g11), as you rightly say, we should make the 'stories' as small as possible. I have thus accepted the 'exchange' story as completed, and added two new ones, each suggesting a test for the exchange interaction. Feel free to add more as you go along.
2012-02-14 09:56:49 HansFangohr: I am busy all morning with Interviews of new PhD students; I hope to have some time in the early afternoon.
2012-02-14 10:00:25 andersej: Yes, I got the notification. Will take a closer look at it. If it is zero initially, it will always be zero in this simple case. Perhaps it changes if there are other contributions to the equation.
2012-02-14 11:44:19 GabrielB: Hi everyone can anyone advise me with mercurial? I have added a "documentation" subdirectory to /demag and am not quite sure how to get HG to see it and push it up into Bitbucket.
2012-02-14 11:52:46 andersej: Think it is just hg add file, hg commit -m 'Message of what is changed', and then hg push.
2012-02-14 11:53:26 andersej: Where file of course is the name of the file you want to add.
2012-02-14 11:58:29 mb8g11: Are there files in that directory?
2012-02-14 12:39:52 andersej: Anyone up for lunch sometime between now and 1?
2012-02-14 12:42:19 mb8g11: 13:00 is good.
2012-02-14 12:51:55 GabrielB: thanks Anders! I will try with -m instead of the normal commit.
2012-02-14 12:52:51 GabrielB: I have just spoken to Anders Logg, he  recommended Nitsche's method in order to get the demag field.
2012-02-14 13:49:50 HansFangohr: Hi Gabriel, that's great. What is Nitsche's method ? ;-) Do you have a reference for it? I haven't heard of the name yet.
2012-02-14 13:54:50 mb8g11:  1ffd48ebd533b81339e58e1f185c32a8ebeedce8
2012-02-14 13:55:01 mb8g11: J.A. Nitsche, Uber ein Variationsprinzip zur Loesung von Dirichlet-Problemen bei Verwendung von Teilraeumen, die keinen Randbedingungen unterworfen sind, Abhandlungen aus
2012-02-14 13:55:04 mb8g11: dem Mathematischen Seminar der Universitaet Hamburg 36 (1970/71), 9â€“15. MR0341903(49:6649)
2012-02-14 13:55:17 mb8g11: disregard the first message, that was a paste gone wrong
2012-02-14 13:58:32 mb8g11: @GabrielB it is not possible to represent an empty directory in Mercurial. As soon as you put a file in it though, you can simply commit the file and the repository will get added as well.
2012-02-14 13:58:46 mb8g11: *and the directory
2012-02-14 14:00:09 GabrielB: When I commited I think my file was stored locally and not as part of the project attached to the Bitbucket depo.
2012-02-14 14:02:37 GabrielB: my folder "documentation" does not show up in the source when I look at it in bitbucket
2012-02-14 14:03:57 mb8g11: Let's say you have the file doc.tex in there.
2012-02-14 14:04:07 mb8g11: hg add documentation/doc.tex
2012-02-14 14:04:17 mb8g11: hg ci (or hg ci documentation/doc.tex)
2012-02-14 14:04:30 mb8g11: hg push
2012-02-14 14:06:38 GabrielB: thanks this is what i get
2012-02-14 14:06:40 GabrielB: gaba@ubuntu:~/devmag/finmag/devtests/demag/documentation$ hg add truncdemag1.tex
2012-02-14 14:06:40 GabrielB: truncdemag1.tex already tracked!
2012-02-14 14:06:41 GabrielB: gaba@ubuntu:~/devmag/finmag/devtests/demag/documentation$ hg ci
2012-02-14 14:06:41 GabrielB: nothing changed
2012-02-14 14:06:41 GabrielB: gaba@ubuntu:~/devmag/finmag/devtests/demag/documentation$ hg push
2012-02-14 14:06:41 GabrielB: pushing to default-push
2012-02-14 14:06:43 GabrielB: abort: repository default-push not found!
2012-02-14 14:08:37 GabrielB: This description of the method is the closest to what was shown to me by Anders.
2012-02-14 14:08:38 GabrielB: www.ann.jussieu.fr/2007/PDFSeminaires/RolfStenberg071207.pdf
2012-02-14 14:08:57 GabrielB: If it works I will include it in the Docu of course :-)
2012-02-14 14:10:51 mb8g11: In the repository root, open the file .hg/hgrc. You want it to look like that http://www.pastebucket.com/1484
2012-02-14 14:11:09 mb8g11: I assumed you use https and not ssh.
2012-02-14 14:20:15 mb8g11: If all fails, check out a new copy of the repo and copy the files by hand. And while you're at it, set up SSH, there is a nice guide in the bitbucket documentation.
2012-02-14 14:20:31 mb8g11: That way, you won't have to enter your password when pushing.
2012-02-14 14:28:52 GabrielB: ok the repository root already has the pastebucket code. I am guessing I shouldnt try adding it to .hg/hgrc in the new directory
2012-02-14 14:29:10 mb8g11: Correct.
2012-02-14 14:31:05 mb8g11: Try hg push https://gabrielb@bitbucket.org/fangohr/finmag
2012-02-14 14:55:54 GabrielB: implemented a 1-d Nitsche method. The results seem to look similar to that obtained by Fredkin- Koehler.
2012-02-14 14:57:55 GabrielB: the results can be seem in nitschetest.py
2012-02-14 14:59:07 GabrielB: I moved the documentation out of the new folder for now thanks for the help so far mb8g11 (Mark I guess!), I will keep trying later to get the new folder in place and clean up a bit
2012-02-14 14:59:49 Marc-Antonio: Yes, Marc
2012-02-14 15:04:52 GabrielB: lol I am off to pick up my daughter! see everyone tomorrow
2012-02-14 15:18:21 andersej: @Marc-Antonio, can you take a look at my program when you have time?
2012-02-14 15:20:58 Marc-Antonio: 16:00?
2012-02-14 15:21:10 andersej: Great
2012-02-14 15:30:12 HansFangohr: Hi all, what is a good IRC client for Linux (Ubuntu)?
2012-02-14 15:31:51 andersej: I'm happy with xchat now.
2012-02-15 08:54:57 HansFangohr: Morning Anders.
2012-02-15 08:56:00 andersej: Good morning! Just read your email, I'll have it done by the end of the day.
2012-02-15 08:58:21 HansFangohr: No rush -- it may just be fun to do this :) I also had another idea for a good test, and will add this to the tracker in a moment.
2012-02-15 09:01:26 HansFangohr: This is the extra test for the Jacobian: https://www.pivotaltracker.com/story/show/24971625
2012-02-15 09:04:33 HansFangohr: Anders, I added a story for the test I suggested in the email: https://www.pivotaltracker.com/story/show/24971705
2012-02-15 09:06:26 andersej: Okay, i thought you combined it in the first one. Sorry. I don't mean to steal all stories.
2012-02-15 09:16:32 HansFangohr: You steal as many as you like :)
2012-02-15 09:40:22 HansFangohr: Hi Gabriel.
2012-02-15 09:40:45 HansFangohr: Andersej, just to add; I think the reason I didn't see those stories started is that you didn't click on 'save' yet or so -- It is all here now.
2012-02-15 11:19:47 andersej: HansFangohr, do you have time today to explain the two time scales scheme a bit more detailed than in the story description?
2012-02-15 11:48:56 HansFangohr: Not at the moment (but later this afternoon). You don't need to worry about it: Use an exchange interaction strength that is realistic (ask MA, or the Nmag Manual) and an applied field that has the strength of 1 Tesla (that is very roughly 1e6 A/m, the same magnitude as the saturation magnetisation), and you should have the two timescales. I think Marc-Antonio maybe able to explain as well.
2012-02-15 14:36:00 HansFangohr: Andersej, are you okay to come to my office to talk through your code?
2012-02-15 14:36:46 andersej: Yes, I'm there in two minutes. Will just push what I'm doing.
2012-02-15 14:37:47 HansFangohr: Okay, great.
2012-02-15 14:50:25 mb8g11: Hans, I'm afraid that the loading of the C-code works perfectly fine on my machine.
2012-02-15 15:08:22 HansFangohr: Marc-Antonio, I have created an account for you on the machine. It is called 'osiris.sesnet.soton.ac.uk'.
2012-02-15 15:10:00 mb8g11: (by the way, the volume is a vector)
2012-02-16 09:28:37 HansFangohr: Greetings, DokosBot.
2012-02-16 10:31:42 HansFangohr: Hi Andersej, mb8g11, any plans for lunch? If so, what is your preferred time?
2012-02-16 10:32:22 andersej: 12:30?
2012-02-16 10:37:00 HansFangohr: Okay, fine. Dmitri and I have a meeting at 11;00 in physics. We'll come back to the office before lunch then -- probably takes only 30 or 45 minutes.
2012-02-16 10:56:59 mb8g11: Oki.
2012-02-17 09:23:07 HansFangohr: Morning Anders and DokosBot.
2012-02-17 09:23:40 andersej: Good morning, Hans!
2012-02-17 13:18:15 andersej: Which PETSc version are you using? I'm on 3.2-p5 and I get PETSc error when I try to run /examples/exchange_1D/run_visual.py. It is caused by the last line of the first for loop (line 52).
2012-02-20 08:55:38 HansFangohr: Morning DokosBot.
2012-02-20 09:11:44 mb8g11: Good morning!
2012-02-20 09:12:23 HansFangohr: Good Morning. I am just moving the (very handy) DokosBot from eta to summer.kk - a good opportunity to document this here.
2012-02-20 09:28:57 mb8g11: So is summer the newly installed machine?
2012-02-20 09:29:31 HansFangohr: Yes; the machine was around before but I had to upgrade the OS somewhat severly (done now).
2012-02-20 09:34:52 HansFangohr: Hello DokosBot. You have just joined automatically (via a cronjob) because summer.kk rebooted. You are started via fangohr's cronjob, and another cronjob on the same machine will commit all the changes to finmag/logbooks/finmag-irc.log every night at 23:59. Just so we have this recorded.
2012-02-20 10:54:09 mb8g11: Do you know how to disable the demag-field in nmag or point me to the documentation? Can't find how to do so.
2012-02-20 10:54:47 fangohr: Yes, when you create a simulation object, there should be an option like 'demag=False' or so.
2012-02-20 10:55:39 fangohr: Actually, it is 'do_demag=False'. See http://nmag.soton.ac.uk/nmag/0.2/manual/html/command_reference.html#simulation
2012-02-20 10:57:37 mb8g11: thank you!
2012-02-20 14:38:45 GabrielB: 2-d and 3-d demag problems implemented! Tests for solver coming soon.
2012-02-20 15:15:50 HansFangohr: Hi Gabriel, great. I'll try to have a look at this soon.
2012-02-21 08:46:18 andersej: Good morning, Hans and DokosBot!
2012-02-21 09:06:18 HansFangohr: Good Morning Anders and DokosBot.
2012-02-21 09:09:47 HansFangohr: Anders, shall we get together in 20 minutes or so to go through Marie's reply?2012-02-21 09:50:49 andersej: Again I don't get notifications when I get a message... Sorry. But is it okay now? I can come to your office.
2012-02-21 12:03:13 HansFangohr: Hi Anders, am on the phone right now. Lunch in 20 minutes or so?
2012-02-21 12:20:24 andersej: Yes.
2012-02-21 12:27:36 HansFangohr: Fab, I'll come over now.
2012-02-22 08:44:18 HansFangohr: Morning Anders, DokosBot.
2012-02-22 09:03:23 HansFangohr: Hi Gabriel, good to see you.
2012-02-22 09:03:43 HansFangohr: Are you okay to delay our meeting today to 15:30 UK time? Not sure whether you have seen my email already.
2012-02-22 09:04:27 GabrielB: Hi hans I'll read the mail
2012-02-22 09:06:31 GabrielB: Ahh ok Doctoral training centre meeting alles klar. 15: 30 might be pushing it a little do you have any time this morning?
2012-02-22 09:07:39 GabrielB: Ahh I mean it might be bit late and the it would be nicer to meet in the morning with less time pressure :-)
2012-02-22 09:07:40 HansFangohr: No, teaching. How about tomorrow 10am?
2012-02-22 09:07:51 HansFangohr: Yes, I agree ;-)
2012-02-22 09:08:25 HansFangohr: By what time do you need to leave? Maybe we can start today, and continue tomorrow?
2012-02-22 09:08:47 GabrielB: ok sounds good! Just to give you a quick update the Nitsche Solver passes all the tests so far now that the boundary values of phitot have been fixed.
2012-02-22 09:09:18 GabrielB: So for tomorrow I will try to compare to the analytic solution and of course write up a summary of the nitsche method
2012-02-22 09:09:24 HansFangohr: That sounds great. Also in 3d? ;-)
2012-02-22 09:09:27 GabrielB: yes
2012-02-22 09:09:34 GabrielB: 1 to 3 d :-)
2012-02-22 09:09:49 HansFangohr: Fabulous.
2012-02-22 09:10:58 HansFangohr: If you choose M=[1,0,0], you should fine that phi is a linear function of x inside the sphere. In particular, if you compute the negative gradient of phi, you should get a vector field that is [-1/3,0,0] inside the sphere. I guess this is the analytic solution you refer to, and would be nice to see.
2012-02-22 09:32:30 andersej: Sorry, didn't get notified as usual.. Morning! How come you have two users always logged on, Hans?
2012-02-22 10:59:18 HansFangohr: Anders, these are from machines that are never switched off.
2012-02-22 11:45:02 HansFangohr: Anders, Marc-Antonio, just to say that I am not having lunch today.
2012-02-23 09:05:19 HansFangohr: Good Morning Anders and Gabriel.
2012-02-23 09:07:09 andersej: Good morning to both of you, and DokosBot!
2012-02-23 09:22:19 GabrielB: Good morning Anders and Hans
2012-02-23 09:53:13 GabrielB: Hans are we ok to meet in 7 minutes?
2012-02-23 09:53:52 andersej: He'll try. Says it might be 9.
2012-02-23 09:56:10 GabrielB: lol ok
2012-02-23 15:37:34 mb8g11: hello Marijaan
2012-02-23 22:08:56 mb8g11: good night
2012-02-23 22:09:02 mb8g11: oh, weiwei was here
2012-02-24 08:28:41 mb8g11: good morning
2012-02-24 09:02:54 fangohr: Morning folks :)
2012-02-24 09:09:04 fangohr-osiris: Morning Anders, are you out there?
2012-02-24 09:13:23 andersej: Yes, I'm here! Good morning! Just reading your email. What is your queries?
2012-02-24 09:13:37 andersej: Ok, just got it.
2012-02-24 10:52:58 andersej: Hans, great work on the documentation! Just one question: Now it seems one have to add the modules to index.rst in addition to modules.txt. This can easily be solved by a simple script copying the information from modules.txt into index.rst. Do you want such a script? I can add it in ten minutes.
2012-02-24 10:57:07 fangohr: I think in index.rst we want to sort them in a logical order, whereas for the modules.txt the order probably doesn't matter? I would think that it is okay to do this manually in this instance. Maybe a note that one needs to add NEW modules to both files might be useful as reminder (in the thisdocumentation.rst file, say).
2012-02-24 11:03:29 andersej: That's right, the order in modules.txt doesn't matter, as it will be arranged alphabetically in the html file. I guess one will get a warning when building if a new module is just added in one of the files and not both.
2012-02-27 09:01:30 andersej: Good morning, Hans!
2012-02-27 09:01:32 fangohr: Morning Anders and DokosBot!
2012-02-27 09:02:52 fangohr: I have a query for you -- do you mind coming to my office for a moment?
2012-02-27 09:04:47 andersej: I'll be there in a second.
2012-02-27 09:05:27 fangohr: Great, there is no rush.
2012-02-27 09:47:55 fangohr-osiris: Wasn't happy with Empathy as the IRC client on linux. Now trying xchat.
2012-02-27 10:04:36 andersej: Hans, when I try to clone the repository in my home folder on your computer, I get "andersej@osiris:~$ hg clone ssh://hg@bitbucket.org/fangohr/finmag remote: Permission denied (publickey). abort: no suitable response from remote hg!", and when I try running from your repository I get permission denied error because I (ffc) am not allowed to write to your folder (ffc wants to create a compiled cache file).
2012-02-27 10:05:56 fangohr: You get the ssh key error because the new account has a different ssh key then the one your machine. Try to checkout via https -- then you have to enter the bitbucket password, and it should work.
2012-02-27 10:07:01 andersej: Great, it works, thanks!
2012-02-27 10:48:28 andersej: I can confirm that /dynamics/macrospin/test_analytic.py runs without problem on my computer with petsc 3.2-p5. I tried installing the newest petsc locally in my home directory on your computer, Hans, but it doesn't like using the new version as it already has an older version built and installed using sudo. I've tried setting petsci_dir and petsc_arch without any luck. Will try a couple of other approaches before the weekly meeting.
2012-02-27 10:52:29 fangohr: Thank you nice -- I'll try to upgrade PETSC then. Let me do this before you try anything else.
2012-02-27 11:24:48 fangohr: Andersej, thanks -- have upgraded ubuntu, then re-installed fenics (as in the finmag/install/fresh-on-ubuntu/fenics.sh) and now the problem has disappeared.
2012-02-27 11:25:13 andersej: Great!
2012-02-28 14:40:42 fangohr_: Hi MarcAntonio, are you out there?
2012-02-28 14:45:22 mb8g11: Yes I am!
2012-02-28 14:45:40 mb8g11: who
2012-02-28 14:49:23 mb8g11: What can I do?
2012-02-28 14:53:05 fangohr_: Hi, just seen the latest commit with the timings - thank you.
2012-02-28 14:53:06 fangohr_: G
2012-02-28 14:53:18 fangohr_: Good to see how profiling can be done here.
2012-02-28 14:54:51 mb8g11: :) Currently writing the spinwaves finmag script, but will get back to the exchange computation afterwards. It's by far the most expensive thing we currently do.
2012-02-28 14:55:14 fangohr_: Some observations: when I ran this, my (virtual machine) spend a long time after displaying 'ordering nodes' or something. Not sure what this is, but it seems related to the mesh generation.
2012-02-28 14:56:05 mb8g11: I think it's just the last thing it does before running the integrator. Because there is no new output until the end, the message seems to be there for a long time. At least that was my impression.
2012-02-28 14:56:20 mb8g11: Let me check that again quickly.
2012-02-28 14:57:12 fangohr_: Oh that could be right.
2012-02-28 14:57:36 fangohr_: I have in fact just added some print statements to address this, and committed, but need to merge now before pushing back.
2012-02-28 14:58:43 mb8g11: Yes that's the situation.
2012-02-28 14:58:45 mb8g11: Great.
2012-02-28 14:59:50 mb8g11: Doesn't seem to run with the default tolerances anymore. I could have sweared I checked it out before checking it in...
2012-02-28 15:00:41 fangohr_: Okay, same here. I will just push back my changes -- still doesn't run, but doesn't affect my additions I think.
2012-02-28 15:01:12 mb8g11: Or add rtol=1e-3 to the set_integrator arguments. If not, I'll do it, no worries.
2012-02-28 15:02:15 fangohr_: Too late ;-)
2012-02-28 15:02:48 mb8g11: Haha.
2012-02-28 15:04:13 mb8g11: I wonder why it didn't break the build. I guess it works *sometimes*.
2012-02-28 15:04:19 fangohr_: Jenkins says this compiles fine. Indeed.
2012-02-28 15:04:26 fangohr_: Also, do we know why building is now much faster?
2012-02-28 15:04:45 mb8g11: No.
2012-02-28 15:04:54 fangohr_: Thinking of http://summer.kk.soton.ac.uk:8080/job/finmag/buildTimeTrend
2012-02-28 15:07:50 mb8g11: Well, it's still too long. That's mostly the fault of the exchange 3D test.
2012-02-28 15:08:25 fangohr_: This is example is useful documentation how to use the same mesh for nmag and finmag comparison. In general, it should be sufficient to just mesh the same geometry (as in the limit of infinitely fine meshes we expect the answers to be identical, and expect reasonable agreement for reasonable meshes anyway). We can then use teh command dolfin.Box, dolfin.Rectangle etc to create the mesh in dolfin. Nmag is lacking the directly comparab
2012-02-28 15:08:26 fangohr_: command, but there is the 'examesh' executable that does something something similar. Anyway, this is just a generic remark for the future.
2012-02-28 15:11:51 fangohr_: Another idea: instead of checking the value at a particular node, I would check the value at a particular position. In dolfin we can use m((x,y,z)) to get the value of the Function m at (x,y,z), in Nmag we can use sim.probe_subfield_siv('m_Py',(x,y,z)) or equivalent. Both access methods will interpolate the true field, but the results should be comparable. The advantage of this approach is that we are independent of the mesh, and in
2012-02-28 15:11:51 fangohr_: particular the order of nodes in the mesh. Nmag may change the order of the nodes when it starts (in particular when run using MPI on more than 1 node), and I expect dolfin may do this as well. Again, just a general remark before I forget.
2012-02-28 15:12:00 mb8g11: Personally, I think it's much more difficult to compare data with oommf, because the values you get out are the middle of a cell. Is there some nmag code that does that? Would love to see it.
2012-02-28 15:12:39 mb8g11: Oooh, m((x,y,z)) really? Thanks!
2012-02-28 15:14:00 fangohr_: I tink I know why it doesn't fail: the exit status ($? for bash if I remember correctly) suggests that the return value is 0 despite the vode warning. So Jenkins wouldn't know this. As it is just a warning, it is not actually a failure of the integration - it just says that it needed suspiciously many iterations. (and we should of course understand why). I am not sure what the implication for the result is, but as your assert stateme
2012-02-28 15:14:01 fangohr_: are not triggered, it can't have been too bad?
2012-02-28 15:14:47 mb8g11: True.
2012-02-28 15:18:17 mb8g11: I failed at merging again. Aaaah.
2012-02-28 15:18:39 fangohr_: OOMMF: I think the best you can do is to compare with FE data where you probe the FE field at the position of the centre of the cube in OOMMF. On the other hand, for mesh edge length -> 0, we get the same result (or should), so if we just allow a bit more tolerance, this should be fine. I wouldn't worry about this too much.
2012-02-28 15:19:09 fangohr_: Does the mesh generation take a lot of time? This will affect the regression tests as well. Something to consider.
2012-02-28 15:22:29 mb8g11: @oommf, fine, makes sense
2012-02-28 15:23:31 mb8g11: @mesh generation. Not an awful lot in comparison with the actual simulation, but a few seconds here and there add up. What time should we be aiming for? 10s for the unit tests?
2012-02-28 15:24:36 mb8g11: We can't really do true TDD, as our tests consist of solving physical problems and not inserting a row into a database. That takes time.
2012-02-28 15:24:54 mb8g11: Because ideally, tests should run in <1s.
2012-02-28 15:28:25 fangohr_: I agree the mesh generation is relatively fast; although changing to dolfin.Box where possible is desirable (as it will be faster for a cubic geometry than going to an external package for a generic geometry).
2012-02-28 15:28:48 fangohr_: If tests take 10 seconds, I think that's fine. As you say, at some point we need to test  some physics, and that takes time.
2012-02-28 15:31:18 fangohr_: Regarding the run-time of this one (src/finmag/sim/tests/dynamics_3D): the profiler says that more than 50% are spend it 'assemble'. I can only think of the exchange assemble command that is called repeatedlyfor every iteration. Thus we need to check whether we can make this faster by storing the matrix rather than assembling every time. See https://www.pivotaltracker.com/story/show/25041739
2012-02-28 15:32:04 andersej: I'm working on it.
2012-02-28 15:32:17 fangohr_: Great, thanks.
2012-02-28 15:32:53 fangohr_: (I have looked into the UFL manual, following repeated recommendations from Marc-Antonio and later Dmitri. That seems a useful resource indeed.)
2012-02-28 15:34:45 mb8g11: @assembly: Yes, it's in fact significantly more than 50% and what I wanted to say at 14:54. Maybe I can join you Anders, in an hour or so?
2012-02-28 15:35:00 andersej: Yes, the documentation of ufl modules isn't very good, so the manual is the right place to obtain information.
2012-02-28 15:35:19 andersej: That'll be great, MarcAntonio.
2012-02-28 15:36:07 mb8g11: Now that I know how to probe the field in dolfin, I will throw out the mesh generation for dolfin for the periodic spinwaves. Thanks!
2012-02-28 15:36:56 mb8g11: Just need to manage to revert a file to an old version before that. That sure is tricky!
2012-02-28 15:40:10 mb8g11: (meant 3D example btw.)
2012-02-28 23:07:28 16WAAC4L4: Update: bitbucket may be a little unresponsive: I noted that my 'hg fetch' or 'hg pull' requests did time out. I interrupted them. Jenkins now seems to suffer the same fate -- it has been running 'hg pull' sinnce 22:47; and thus it does not build due to the latest changes. I would hope that Jenkins migth kill the pull job at some point, or that bitbucket recovers. Let's see.
2012-02-28 23:07:44 16WAAC4L4: I am Hans, by the way. Sorry about the funny login.
2012-02-29 09:24:21 fangohr: Morning all.
2012-02-29 09:24:39 andersej: Morning!
2012-02-29 10:10:09 GabrielB: Hi everyone
2012-02-29 10:14:27 mb8g11: Hi all.
2012-02-29 10:14:33 GabrielB: Hi Marc
2012-02-29 10:18:32 andersej: Hello, mb8g11 and GabrielB!
2012-02-29 10:19:38 GabrielB: HI anders
2012-02-29 11:52:17 mb8g11: I have a PGR meeting with catering at 1300 and won't go to lunch today.
2012-02-29 12:13:36 andersej: Okay, I know how you love free food, hehe..
2012-02-29 12:25:27 mb8g11: Exactly!
2012-02-29 13:34:36 fangohr_: Hi Anders, I think I know what's wrong with the exchange. A subtle bug, that I have put in earlier.
2012-02-29 13:39:03 andersej: What do you mean? The problem that makes the odeint diverge? Or is there another problem? I know that the project method isn't working very good, is this because of the bug?
2012-02-29 13:39:34 fangohr_: A different issue -- do you want to come over briefly?
2012-02-29 13:44:51 andersej: Yes, just found another bug. Two seconds, pushing now.
2012-02-29 13:45:41 fangohr_: Probably the same as I did :) Let's see. ;-)
2012-02-29 15:05:47 fangohr: Yes, spotted the same missing 'raise'. I was not asked to merge it manually, so I guess we made *exactly* the same change to the same line, and merge can deal with that silently (assuming that if we both agree what it should be, this will be the right way to merge it). Clever.
2012-02-29 15:29:59 andersej: Hehe, good!
2012-02-29 15:30:58 andersej: Someone knows where these "Create layout  End Create layout" - messages are coming from?
2012-02-29 15:31:14 fangohr: No. When do you see them?
2012-02-29 15:31:51 andersej: python explicit_g_matrix.py
2012-02-29 15:32:23 andersej: Seems like they occur in every methods.
2012-02-29 15:33:25 fangohr: I don't think I can see these at all.
2012-02-29 15:34:21 andersej: Interesting. I'll try running the script from your machine.
2012-02-29 15:37:37 andersej: Right, I don't get those messages there...
2012-02-29 15:38:03 fangohr: Maybe you have set some loglevel higher than normal or some other setting in your user account that triggers this behaviour?
2012-02-29 15:41:42 andersej: Probably something like that, yes, but I have never changed any such thing on this machine. It is probably due to different versions of ffc, ufl, etc. Nothing to worry about.
2012-02-29 17:09:17 fangohr: exit
2012-03-01 09:12:17 fangohr_: Morning Anders.
2012-03-01 09:12:50 andersej: Good morning, Hans!
2012-03-01 09:24:31 andersej: I've just changed all my email addresses on Jenkins to the Soton-address and pushed my code. We'll see in a few minutes if it worked.
2012-03-01 09:27:02 andersej: Yey! It worked!
2012-03-01 09:27:12 fangohr_: Great, thanks.
2012-03-01 11:35:16 andersej: Hi all! I think the documentation for Exchange and Anisotropy is a bit strange, since it displays all these functions we only use internally. The user should only use exchange.compute_field(), but this is not mentioned in the documentation. But all the compute_filed_box_assemble, etc, are listed, but cannot be used. I've made a big change and gathered all methods in compute_field(). I've pushed it now, so please have a look and if you don't like i
2012-03-01 11:35:16 andersej: t, we can revert immediately.
2012-03-01 11:35:45 andersej: That is, I've just changed the Exchange for now.
2012-03-01 11:56:38 mb8g11: Why didn't you just prefix these methods with __ ?
2012-03-01 11:57:34 mb8g11: And since the documentation is only for us, it wouldn't hurt to see the different methods. But that is a matter of taste I guess.
2012-03-01 11:57:42 andersej: I could have done that, and added a dummy method compute_field() with only documentation.
2012-03-01 12:05:14 mb8g11: Do you mind if I edit the file a little, or are you currently working on it?
2012-03-01 12:05:33 andersej: No, please do.
2012-03-01 12:05:39 mb8g11: :)
2012-03-01 12:35:28 mb8g11: pushed
2012-03-01 12:40:13 fangohr: Just in time for lunch, I suppose :)
2012-03-01 12:44:21 mb8g11: Yes!
2012-03-01 12:45:21 fangohr: Just noticed that I broke the build before ... hopefully just fixed it with a new commit.
2012-03-01 14:18:31 fangohr: Marc-Antonio, turns out that Marijan is delayed, so I have some time now -- shall we look at your tests now then?
2012-03-01 14:23:24 mb8g11: Yes ofc
2012-03-01 16:44:40 fangohr: Hi MA, I have got 10 minutes left before the end of the day -- have we covered all the issues or is there anything else we should talk about now?
2012-03-01 16:44:58 mb8g11: I think that's it really :)
2012-03-01 16:45:11 fangohr: That's fine - great. ;)
2012-03-02 09:10:50 fangohr: Morning Anders, I like you conclusion that -- due to the various logins in the IRC chat -- I must be very experienced with it.
2012-03-02 09:11:14 fangohr: In any case, I need to do deal with some urgent things but hope that we can get together in 30 minutes or so - is that oka?
2012-03-02 09:11:19 fangohr: (okay)
2012-03-02 09:18:36 andersej: Good morning, Hans! Hehe.. Yes, 30 minutes sounds great. I'll come by then.
2012-03-02 09:45:44 fangohr: Not quite finished yet, I'll give you a shout when I am done.
2012-03-02 09:45:57 andersej: Ok.
2012-03-02 09:58:06 fangohr: Hi Anders, ready to fire now. Do you want to come over?
2012-03-02 09:59:08 andersej: Yes!
2012-03-02 11:03:08 fangohr: Anders, I was wrong. The student comes at 11:30. I'll come over to your office in 5 minutes and we can look at your files for 20 minutes.
2012-03-02 16:11:30 andersej: Hans, are you still there?
2012-03-02 16:13:02 andersej: Never mind, I solved the problem.
2012-03-02 16:15:09 andersej: That is, not THE problem, just another one..
2012-03-02 17:06:39 fangohr: Hi Anders, yes, still there. Too late now I guess. Let's talk Monday.
2012-03-02 17:06:45 fangohr: ; have a good weekend everybody.
2012-03-05 09:48:55 fangohr: Moin Anders.
2012-03-05 10:23:21 andersej: Morning!
2012-03-05 12:57:28 fangohr: Up for lunch?
2012-03-05 12:57:33 andersej: Yes!
2012-03-05 14:42:28 fangohr: Anders, do you know whether we have any Ubuntu installation CDs lying around in the office? Don't worry if not -- just wanted to check before burning a new one.
2012-03-05 14:42:58 andersej: No, I'm not aware of any such CDs. Sorry.
2012-03-05 14:44:50 andersej: By the way, do you have two seconds while the CD is burning?
2012-03-05 14:45:00 fangohr: Yes, sure :)
2012-03-05 14:45:18 andersej: I'll send you an email and come to your office.
2012-03-05 16:39:19 fangohr: Hi Maxim, well done.
2012-03-05 16:41:06 maxim__: the uk layout is confusing me. had troubles with password because of exchanged y and z ;)
2012-03-05 17:10:20 fangohr: Hi Maxim, am about to leave. I see you tomorrow around 11;00 or so. Have a nice evening.
2012-03-05 17:18:39 maxim__: Thanks, you too.
2012-03-06 09:06:59 fangohr: Good Morning, Anders.
2012-03-06 09:07:07 andersej: Morning, Hans!
2012-03-06 09:20:59 fangohr: Morning Anders, are the 'project vs interpolate' results to spectacular that we should file a query on the dolfin team list?
2012-03-06 09:27:20 andersej: Perhaps. I've sent a mail to Anders Logg showing the results and asked why project acts as it does. Either he has a good explanation or he encourages us to file it as a bug. I'll just wait until he wakes up, hehe..
2012-03-06 09:27:40 fangohr: Sure, thanks. Let me know the answer :)
2012-03-06 11:51:12 fangohr: Hi Sebastian, good to see you :)
2012-03-06 11:51:28 SebastianS: hey, jep just managed to set up IRC
2012-03-06 11:51:43 fangohr: I need to make a few phone calls but would hope we can go for lunch around 12:30 maybe?
2012-03-06 11:52:07 SebastianS: sounds good. I have one quick questions though:
2012-03-06 11:52:27 SebastianS: could you invite me again to the dropbox folder? that didn't seem to work
2012-03-06 11:52:47 SebastianS: it's sebastian.schwieger@uni-konstanz.de
2012-03-06 11:54:04 fangohr: Yes, sorry, had a typo in the email address.
2012-03-06 11:54:38 SebastianS: no worries! just got the invite. Thanks a lot
2012-03-06 11:54:49 andersej: 12:30 sounds good!
2012-03-06 12:27:25 andersej: We are leaving for lunch now. We meet up outside my office (next to the exit).
2012-03-06 12:28:11 andersej: 2025 is the number..
2012-03-06 12:31:35 fangohr: Maxim, Sebastian, we can't find you anywhere -- I presume you have gone to the staff club already, so we meet you there.
2012-03-06 13:02:52 maxims: Nilson (or Nelson) asked me whether I go with him for lunch. But then I realized that we were not going to eat in staff club but buy food in this student shop instead. Sebastian is picking up his id card. I hope you met him on your way. Otherwise I can show some where he can have lunch.
2012-03-06 14:12:20 fangohr: Sebastian -- what is your login?
2012-03-06 14:17:46 fangohr: Got it: ss18g11 (thanks).
2012-03-06 14:20:25 fangohr: I created an account for you on eta.kk.soton.ac.uk. Password is 'konstanz', please change asap. You connect using 'ssh ss18g11@eta.kk.soton.ac.uk'.
2012-03-06 14:22:34 SebastianS: oh sorry! i didn't have the sound on and completely forgot to check here.
2012-03-06 14:22:40 SebastianS: thanks a lot!
2012-03-06 14:24:47 fangohr: Hi all, I'll be teaching and offline for the rest of the day.
2012-03-06 14:36:31 SebastianS: clear
2012-03-06 14:36:53 SebastianS: uups... that was supposed to go in terminal
2012-03-06 14:36:58 SebastianS: sorry for that
2012-03-07 10:05:01 andersej: Hans, are you out there?
2012-03-07 11:57:17 andersej: Lunch, anyone? maxims or SebastianS?
2012-03-07 12:08:31 SebastianS: ah we just went to the shops and bought some small snacks there
2012-03-07 12:08:46 SebastianS: we actually thought you guys had already gone there
2012-03-07 12:09:38 andersej: Okay, that's fine. Let's try again tomorrow!
2012-03-07 12:11:27 maxims: Do you eat every day at staff club? For me it would be to expensive. But two or three times a week is ok. So maybe tomorrow?
2012-03-07 12:12:59 andersej: Yes, we usually eat there. Just send a message here when you want to join us.
2012-03-07 12:15:06 maxims: Ok
2012-03-07 12:22:38 maxims: SebastianS: im Ordner /home/benutzername muss die Datei .hgrc angelegt werden und deren Inhalt ist:
2012-03-07 12:23:04 maxims: SebastianS: [ui]
2012-03-07 12:23:04 maxims: username = Maxim Skripnik <maxim.skripnik@yahoo.de>
2012-03-07 12:23:39 SebastianS: ah okay, danke :-)
2012-03-08 09:19:20 fangohr: Good Morning Anders and DokosBot.
2012-03-08 09:22:18 andersej: Good morning, Hans!
2012-03-08 09:22:50 andersej: I have a bunch of questions. Do you have three and a half minute?
2012-03-08 09:23:29 fangohr: Yes, give me 5 minutes to do some email, and then will be good. I'll send a short message here when I am done.
2012-03-08 09:24:01 andersej: Great!
2012-03-08 09:36:49 fangohr: Okay Anders, do you want to come over, or do I need to see your screen?
2012-03-08 09:37:18 andersej: I'm on my way!
2012-03-08 11:06:06 fangohr: Hi Sebastian. Not sure you can afford the food in the staff club (seeing your messages from yesterday), but Anders and I will go at 12:15 today. (One should be able to keep the price below 5.00 generally; the curry is exceptionally expensive.)
2012-03-08 11:09:19 SebastianS: Hi Hans, that message was acutally from Maxim, although I had the same concerns... I think I'll join you today, though and have a second go ;-)
2012-03-08 11:18:08 fangohr: Sadly, the 'student' places are not cheaper ... Actually, when you pay, you should say that you are a student, and you should get a reduction (20% or so). They will want to see your student card for this. The Southampton card you have is a visitor's card; so that is not a student card. But if you have some kind of student card from Konstanz, and explain that you are here as a visiting student, it may work. If I am around, I'll back you up. Worth a try
2012-03-08 11:22:37 SebastianS: I actually did that Monday and the lady at the pay desk told me she'd do it only this time as the curry was quite expensive; I guess she won't remember me, though, so it should be fine
2012-03-08 12:13:31 SebastianS: are you guys going to lunch? Maxim and I would be ready
2012-03-08 12:13:47 fangohr: Yes, let's meet outside Anders office in 2 min or so.
2012-03-08 12:14:00 SebastianS: okay. see you then
2012-03-08 22:35:17 fangohr__: Hi Dmitri -- nice to see you here. (Or probably just your computer being logged in) :)
2012-03-12 10:02:39 fangohr: Morning folks.
2012-03-12 10:19:08 SebastianS: I was just looking through the first couple of NMAG examples and I was wondering whether number 11 (Cubic anisotropy) would be a good point to start.
2012-03-12 10:32:22 fangohr: I would probably start with a system without anisotropy, say
2012-03-12 10:32:22 fangohr: http://nmag.soton.ac.uk/nmag/0.2/manual/html/example2/doc.html
2012-03-12 10:32:22 fangohr: Then, you may want to do something with uniaxial anisotropy (as this is the anisotropy considered in theLLB model), say
2012-03-12 10:32:22 fangohr: http://nmag.soton.ac.uk/nmag/0.2/manual/html/example_uniaxial_anis/doc.html
2012-03-12 10:33:10 fangohr: When you have mastered these, standard problem 3 may be nice to do (http://www.ctcms.nist.gov/~rdm/spec3.html). When you get to that point, let me know and I will dig out the Nmag script which you can use for initial guidance.
2012-03-12 10:35:14 SebastianS: okay. thanks a lot!
2012-03-12 12:08:17 maxim|s: Is anybody going to have lunch at staff club?
2012-03-12 12:26:31 fangohr: Oh, yes!
2012-03-12 12:26:46 fangohr: We are planning to go at 12:30 -- do you want to come over to Dmitri's and Anders' office now?
2012-03-12 16:58:57 SebastianS: Sorry to bother you again, Hans. I just noticed that the second example you recommended is the one, which Dmitri already did. I took a look if there were any other uniaxial ones, but I couldn't find any. Shall I skip that and go straight to the mumag example?
2012-03-12 17:10:23 fangohr: Yes.
2012-03-12 17:11:40 SebastianS: okay. Thanks!
2012-03-13 09:35:38 andersej: Good morning, Hans!
2012-03-13 09:35:55 andersej: Good morning, Hans!
2012-03-13 10:03:48 fangohr__: Good Morning.
2012-03-13 11:48:02 SebastianS: Hey, Maxim and I are in for lunch! We'll come to Anders office at around 12.30 if that's okay
2012-03-13 12:03:47 andersej: Great! I think we will be a large group today!
2012-03-13 12:19:09 fangohr: Okay, nice.
2012-03-14 09:02:00 andersej: Good morning!
2012-03-14 09:37:34 fangohr: Greetings Anders and DokosBot.
2012-03-14 09:40:21 andersej: Hehe.. Good morning!
2012-03-14 11:55:34 fangohr: Hi all, just to remind you that I am not going for lunch today.
2012-03-14 11:56:08 fangohr: I might get some biscutis for coffee, though. Shall we say 15:15 in Anders' and Gabriel's office? (I need to do something at 15:00 -- thus the strange time).
2012-03-14 12:06:30 andersej: 15.15 sounds great. Gabriel and I will go for lunch now, if anyone wants to join.
2012-03-14 12:08:52 SebastianS: Maxim and I are probably going a bit later, because we both didn't have breakfast so long ago...
2012-03-14 14:08:12 fangohr: :)
2012-03-14 17:21:24 fangohr: over and out, see you tomorrow.
2012-03-15 09:12:46 andersej: Good morning, Hans!
2012-03-15 09:13:03 fangohr: Morning Sir.
2012-03-15 09:13:16 fangohr: I'll catch up with you soon. Is Gabriel in already?
2012-03-15 09:13:23 andersej: No, not yet.
2012-03-15 09:13:37 fangohr: Okay, that suits me fine .Need to fix something I broke earlier first :)
2012-03-15 09:13:49 andersej: : )
2012-03-15 12:28:04 andersej: Someone up for lunch?
2012-03-15 12:29:14 SebastianS: yes, sounds good! if it's okay with you we might wait for another 5 minutes or so, since maxim wanted to join in as well, but he's currently in the library
2012-03-15 12:29:36 andersej: Yes, 5 is ok.
2012-03-15 15:33:54 GabrielB:           kwargs = {"R"+str(i):R[i] for i in range(dim)}
2012-03-15 15:33:54 GabrielB:           E = Expression(w,**kwargs)
2012-03-15 15:34:12 andersej: Great!
2012-03-16 09:27:07 fangohr: Good Morning Anders (morning DokosBot).
2012-03-16 09:36:25 fangohr: Anders, are you around so that I can come over and admire your BEM progress bar?
2012-03-16 09:40:20 andersej: Yes! Please come!
2012-03-16 12:07:30 fangohr: Hi all, anybody up for lunch?
2012-03-16 12:07:42 andersej: I'm in.
2012-03-16 12:08:00 SebastianS: hey, I'm in as well
2012-03-16 12:08:01 fangohr: I need to be back by 13:00 for a meeting, so would want to leave at 12:15. Sharp. German punctuality and all that.
2012-03-16 12:08:25 andersej: Great.
2012-03-16 12:08:26 SebastianS: right. I'll be at Anders office :D
2012-03-16 12:09:03 andersej: Hans, can you come 12:14?
2012-03-16 12:09:19 fangohr: Have you something to show me?
2012-03-16 12:11:51 andersej: I (we) have a problem...
2012-03-16 14:14:13 fangohr: ...which you have now reported as https://bugs.launchpad.net/dolfin/+bug/956939. fortunately, it does not affect the 1.0 version.
2012-03-16 14:17:46 andersej: True and correct.
2012-03-16 14:21:52 andersej: The bad thing is that when we first use the CR element and then project onto a discontinous Lagrange space, I think we loose all possibility of telling which vector corresponds to which coordinate.
2012-03-16 14:32:48 andersej: I think perhaps we have to find a way to do this with CG elements. We can talk more about this on Monday.
2012-03-16 14:39:53 fangohr: Not sure I understand the problem with the vectors and coordinates.
2012-03-16 14:46:28 andersej: I'm not sure I understand it myself. But in the nmag example, they printed the demag field for given values of x. In our case that will be difficult, because we don't have the information of which vector corresponds to the x-coordinates of the mesh. Actually, there will be no vector on that exact coordinate, because the nodes on a CR element are between the coordinates.
2012-03-16 15:25:18 fangohr: Anders, the trick is to ask the dolfin field object. If the field object is called Hdem, then Hdem((x,y,z)) will give you the field at position (x,y,z). It will interpolate if required.
2012-03-16 15:26:02 andersej: Ah, I see.
2012-03-16 15:36:01 andersej: Can that interpolation also do something with the following problem? With all the other fields, the length of the gradient is three times the number of nodes. Which makes sense for a continuous Lagrange space. But the demag gradient is much longer since it exists in another space. Are we supposed to add these gradients at some time?
2012-03-16 15:47:01 andersej: We can talk more about this next week. Have a nice weekend everybody!
2012-03-16 16:15:50 fangohr: If we project the final demag field into a CG1 space, all should be fine. I hope.
2012-03-16 16:52:17 SebastianS: I'm off as well. Have a nice weekend!
2012-03-16 16:52:51 fangohr: Me too. Bye DokosBot.
2012-03-19 09:03:08 mb8g11: Hi all.
2012-03-19 09:03:22 andersej: Hi! Welcome back!
2012-03-19 09:18:24 andersej: Morning, Hans!
2012-03-19 09:18:28 fangohr: Morning all.
2012-03-19 09:18:42 fangohr: Marc-Antonio, are you back in Soton already, or logged in from HH?
2012-03-19 09:18:49 fangohr: Or South Africa, in fact ;-)
2012-03-19 09:19:14 mb8g11: No no, sitting in my office :)
2012-03-19 09:19:22 fangohr: Lovely :)
2012-03-19 09:23:35 andersej: Hi Hans, is there a Monday morning meeting today?
2012-03-19 09:36:02 fangohr: Yes, was just about to email.
2012-03-19 11:11:18 mb8g11: Does any of you know if Gabriel is currently working? I have to move some of his files to repair the build.
2012-03-19 11:35:17 fangohr: He is writing emails, at least.
2012-03-19 12:32:10 fangohr__: Are we set for lunch?
2012-03-19 12:32:37 fangohr: Meeting outside Dmitri's office, I suggest.
2012-03-19 12:33:08 andersej: I'm ready!
2012-03-19 12:34:06 SebastianS:   jep we'll be there in a minute as well
2012-03-19 14:49:20 fangohr: Anders, do you know whether Gabriel is fixing the broken built?
2012-03-19 14:50:05 fangohr: I have inserted a few 'finmag.' all over his code in the import statements, and it is running now on my machine.
2012-03-19 14:50:20 fangohr: Tempted to push but don't want to interfer with him ...
2012-03-19 14:50:37 andersej: No, I haven't heard anything.
2012-03-19 14:51:01 fangohr: Okay, I'll drop him an email and if there is no protest, I'll push.
2012-03-19 14:53:04 fangohr: Actually, I am guessing that his PYTHONPATH points to 'hg/finmag/src/finmag' instead of 'hg/finmag/src' -- if so, then all his code would run correctly I think. ;-)
2012-03-19 14:56:27 andersej: I'll wait until you have pushed this to push my tests.
2012-03-19 15:01:40 mb8g11: Anders, have you oommf installed on your machine?
2012-03-19 15:02:01 fangohr: Anders, I have pushed already -- do you get bitbucket email notifications?
2012-03-19 15:02:26 andersej: No to both of you.
2012-03-19 15:03:35 fangohr: :) Then I suggest you (and maybe also Maxim?) set up automatic email notification on pushs to bitbucket. You do this by going to the 'admin' tab when you are on the bitbucket project, then select 'Services' (on the left), then add the 'Email diff'service, and enter the email address that should get the notifications.
2012-03-19 15:06:19 mb8g11: He shouldn't be able to see an admin tab at all.
2012-03-19 15:06:34 fangohr: Eh, yes. Right you are.
2012-03-19 15:07:16 fangohr: So is it not possible to schedule this for ordinary users? Marc-Antonio, have you got email notification?
2012-03-19 15:07:28 fangohr: I can add email addresses for everybody if you like, just say.
2012-03-19 15:08:50 andersej: Yes please, but for A.E.Johansen@soton.ac.uk, so I don't get email notifications to my phone at 07 am Sunday morning, hehe..
2012-03-19 15:10:40 mb8g11: It isn't possible for ordinary users and I haven't got e-mail notifactions. I simply try pulling or have the bitbucket website open.
2012-03-19 15:11:09 fangohr: Marc-Antonio, I can add your email to the email-diff service if you like?
2012-03-19 15:11:10 mb8g11: A normal user could program his e-mail client to read the RSS feed of the repository though,.
2012-03-19 15:12:16 mb8g11: no thanks :)
2012-03-19 15:12:40 andersej: Actually, I always have the website open myself, so I think the e-mail notifications would just be disturbing. So could you perhaps please not add me? I get Pivotaltracker e-mails anyway when somebody pushes to stories I'm working on.
2012-03-19 15:33:34 fangohr: Sure, makes sense.
2012-03-19 15:34:09 fangohr: ... and as Marc-Antonio says, you could also subscribe to the RSS feed if you like to see stuff arriving in your inbox rather than the browser.
2012-03-19 15:45:32 fangohr: Anders, does the xfail-decorator work? If so, could you commit please? I'd like to get a successful built on Jenkins.
2012-03-19 15:46:03 fangohr: If the decorator does not work, just rename the file from test_ to xtest_ or so (or the same with the function names if you just need to disable a few test functions inside a file).
2012-03-19 15:46:04 mb8g11: Anders is busy parametrising his tests :D
2012-03-19 15:46:26 fangohr: Not exactly sure what it means -- but it sounds like work in progress. Good enough for me. Ta.
2012-03-19 15:46:30 andersej: But my tests won't break the build anyway, because all asserts are commented out.
2012-03-19 15:47:07 fangohr: Hm, then something else breaks it. Have a look at: http://summer.kk.soton.ac.uk:8080/job/finmag/lastBuild/console
2012-03-19 15:47:46 mb8g11: progressbar
2012-03-19 15:48:18 andersej: Of course
2012-03-19 15:48:36 andersej: My nice little progressbar
2012-03-19 15:53:07 andersej: Let's see now.
2012-03-19 15:58:44 andersej: Old version of pytest on jenkins breaks the build. MA is on the case.
2012-03-19 15:58:55 fangohr: Fails now at 'import py.test'.
2012-03-19 15:59:02 fangohr: Is it the version or is pytest not installed?
2012-03-19 15:59:11 fangohr: If you tell me what to change, I'll change it ;)
2012-03-19 15:59:27 mb8g11: summer has py.test 1.3.4 instead of the new one... could you update it?
2012-03-19 15:59:44 mb8g11: should be sudo easy_install -U pytest
2012-03-19 15:59:53 fangohr: Can't be done with Ubuntu packages?
2012-03-19 16:00:19 mb8g11: No.
2012-03-19 16:01:44 fangohr: fangohr@summer:~$ dpkg -S `which py.test`
2012-03-19 16:01:44 fangohr: python-py: /usr/bin/py.test
2012-03-19 16:02:03 fangohr: So I uninstall python-py, and run the 'sudo easy_install -U pytest'?
2012-03-19 16:04:47 mb8g11: We didn't uninstall python-py on Anders machine.
2012-03-19 16:05:56 mb8g11: easy_install created a py.test-2.x. We pointed a symbolic link name py.test to it, and backed up the existing py.test as py.test-old
2012-03-19 16:06:42 fangohr__: Can you test whether all his stuff still works if you remove the Ubuntu package?
2012-03-19 16:08:02 andersej: Can you install the progressbar as well? apt-get install python-progressbar. Really nice to have when building the BEM.
2012-03-19 16:14:58 andersej: I just removed the Ubuntu package and everything seems fine.
2012-03-19 16:23:25 fangohr: Both done. fire away.
2012-03-19 16:39:47 andersej: Yey, success.
2012-03-19 16:50:40 fangohr: Phew ...
2012-03-19 17:10:48 fangohr: Over and out for the day.
2012-03-20 09:06:11 fangohr: Morning Gabriel (and Dokosbot)
2012-03-20 09:19:22 andersej: Good morning!
2012-03-20 11:51:34 mb8g11: Who is up for lunch?
2012-03-20 11:51:45 mb8g11: at 12:15 let's say
2012-03-20 11:51:50 fangohr__: I am.
2012-03-20 11:51:55 fangohr__: You are hungry...
2012-03-20 11:52:26 SebastianS: I'm in as well
2012-03-20 11:55:16 mb8g11: A little ;)
2012-03-20 12:12:01 andersej: I'm in!
2012-03-21 12:08:56 SebastianS: hey, anyone up for lunch?
2012-03-21 12:11:20 andersej: Marc-Antonio said he would be ready 12:30. Is it okay if we wait for him?
2012-03-21 12:14:43 SebastianS: yeah sure. I'm not in a rush
2012-03-21 12:15:50 andersej: Great. Let's meet at the usual place, outside my door, in 15 minutes then.
2012-03-21 12:25:48 mb8g11: I met Maxim at the gym, he won't be coming with us today.
2012-03-22 09:00:16 fangohr: Good Morning DokosBot and Marc-Antonio.
2012-03-22 12:06:48 fangohr: Hi all, I have a work meeting over lunch and will not be able to join you today.
2012-03-22 12:07:35 andersej: Okay, is anyone else up for some food?
2012-03-22 12:10:41 SebastianS: jep, I'd be up for lunch
2012-03-22 12:10:54 andersej: In ten minutes, say?
2012-03-22 12:11:07 SebastianS: sounds good
2012-03-22 12:11:15 andersej: Great!
2012-03-22 13:00:09 mb8g11: i.
2012-03-22 14:41:16 fangohr: Marc-Antonio, am just trying to run the compare_exchange.py code. This fails on my machine because I haven't set the path to OOMMF yet. Could you update the code so that it prints what command it will execute before it fails (or catch the failure, and only then print what it was trying to do?). I expect thsi will be useful repeatedly, i.e. whenever somebody tries to do this on a machine where OOMMF has not been setup for this kind of test.
2012-03-22 15:16:03 mb8g11: Yes.
2012-03-22 16:00:26 fangohr: Thank you.
2012-03-22 16:30:31 mb8g11: By the way, it isn't so much a path, as that you need to have "oommf" available as a command.
2012-03-22 16:31:25 fangohr__: Sure, that's actually what I expected. But one doesn't know whether the command is 'oommf' or 'oommf.sh' or 'oommf.tcl' etc.
2012-03-22 16:31:59 mb8g11: I'm on it now.
2012-03-22 16:58:11 mb8g11: Pushed :)
2012-03-22 16:58:19 fangohr: Ta.
2012-03-22 17:02:19 fangohr_: What is your 'oommf' script like? (if that question makes any sense.)
2012-03-22 17:06:50 mb8g11: Of course it does.
2012-03-22 17:07:00 mb8g11: It's an executable file in my path with:
2012-03-22 17:07:04 mb8g11: #! /bin/bash
2012-03-22 17:07:24 mb8g11: tclsh /whereever/your/oommf/is/oommf.tcl "$@"
2012-03-22 17:09:42 fangohr_: That's better; thank you.
2012-03-22 17:10:10 fangohr_: It might be worth including this file into the error message, or creating the file automatically after we compile oommf?
2012-03-22 17:10:56 fangohr_: I get one step further, but then oommf reports an error that it cannot read the mif file. [Need to stop here for today.]
2012-03-22 17:11:34 mb8g11: If it's okay, I'll stop by your office tomorrow morning?
2012-03-22 17:11:59 mb8g11: (will include this file into the installation script)
2012-03-22 17:12:49 fangohr: Yes, let's do that.
2012-03-22 20:33:36 mb8g11: Hi Hans.
2012-03-22 20:34:17 fangohr___: Hi :) am just installing oommf on summer.
2012-03-22 20:34:38 fangohr___: As we know create the oommf file automatically, we could include the TCL path settings into that file, right?
2012-03-22 20:35:18 fangohr___: (Summer is the machine hosting the Jenkins autotesting.)
2012-03-22 20:36:36 fangohr___: Marc-Antonio, by the way, have you ever tried 'Atlassian Sourcetree'? I is a Mac-only application for git and hg repositories and is meant to be great. Might give this a go at some point.
2012-03-22 20:38:42 mb8g11: Do we need the TCL path settings post-installation?
2012-03-22 20:39:46 fangohr___: Ah, good question. I assumed we had to, but never tested. Probably I am just wrong.
2012-03-22 20:40:00 mb8g11: Assuming you mean OOMMF_TCL_INCLUDE_DIR and TK, we don't :)
2012-03-22 20:40:13 mb8g11: It's just that the installation fails if they aren't defined.
2012-03-22 20:40:37 fangohr___: Anders, are you still there as well?
2012-03-22 20:40:44 mb8g11: Yes he is, we are fixing the build ;)
2012-03-22 20:41:03 mb8g11: Well, he is.. I prefer breaking it.
2012-03-22 20:42:34 mb8g11: @atlassian sourcetree: The screencast looks nice, will try it out!
2012-03-22 20:43:18 andersej: Yes, I'm here admiring the fact that we are 7 users on at this hour ;)
2012-03-22 20:44:15 mb8g11: 7? Did you count or shizophrenis as well? :)
2012-03-22 20:44:34 mb8g11: *schizophrenics
2012-03-22 20:44:48 andersej: Hehe...
2012-03-22 20:44:51 andersej: Yes
2012-03-22 20:45:17 fangohr___: The 3 chizophrenis are all here with me. Plus DokosBot, of course. And the two that actually do something useful :)
2012-03-22 20:45:54 fangohr___: (and the fourth I of course)
2012-03-22 20:46:05 andersej: Yes, we are quite busy in breaking Jenkins.
2012-03-22 20:46:37 fangohr___: Nice.
2012-03-22 20:46:54 fangohr___: One recipe for success seems to be to change the name of classes, such as src/finmag/demag/solver_gcr.py:71: in solve_phia
2012-03-22 20:46:54 fangohr___: >        super(GCRFemBemDeMagSolver,self).solve_phia(phia = self.phia,method = method)
2012-03-22 20:46:55 fangohr___: E        NameError: global name 'GCRFemBemDeMagSolver' is not defined
2012-03-22 20:48:44 andersej: I changed that, and then Gabriel pushed, and the merge haven't worked out the way I hoped. And we've had dinner..
2012-03-22 20:55:21 mb8g11: find . -name "*.py" -print | xargs sed -i 's/foo/bar/g'
2012-03-22 20:55:58 andersej: Thanks!
2012-03-22 20:56:23 mb8g11: np
2012-03-22 21:11:33 fangohr___: The merge couldn't figure out the name change because you didn't change the name in the tests? Anyway, it will need manual fixing, and looking at the latest email you have probably done that already?
2012-03-22 21:17:04 fangohr___: The other failure seems to relate to the Nitsche solver, and fail on my virtual machine as well. With a low level Dolfin warning.
2012-03-22 21:17:21 fangohr___: I would recommend to mark them as expected to fail, or comment out for now?
2012-03-22 21:19:07 andersej: I have solved all problems related to the name change now. The Nitsche solver failed before I pushed anything today, so that isn't related to the name change. I can mark them as xfail for now.
2012-03-22 21:19:47 andersej: ... just to get a clean build before we go home.
2012-03-22 21:21:47 mb8g11: They failed since 225, when Gabriel pushed new stuff.
2012-03-22 21:22:20 andersej: Yes, I think he has broken the Nitsche solver.
2012-03-22 21:22:27 mb8g11: Sorry, 225 was me (repaired since), 226 was him.
2012-03-22 21:27:43 fangohr___: Anders, yes, that would be good (to mark them as xfail).
2012-03-22 21:28:17 mb8g11: I think it has to do with the Hdemagspace, it changed in that commit and that's where the error happens.
2012-03-22 21:28:40 fangohr___: Marc-Antonio, just looking at the mlab output of the devtests/oommf/compare_exchage.py file: interesting. Can we easily add a colorer to this that gives a scale for the arrows?
2012-03-22 21:29:53 fangohr___: Another point to consider when we wrap this up as test: the mayavi module is currently not installed on summer (we could change this of course) but this seem best suited for interactive display. I would thus separate the plot from the test, and maybe only show plots when the test file is run via the __name__=="__main__" mechanism or so. Probably what you were planning anyway.
2012-03-22 21:31:50 fangohr___: Oh, I see the colorers are already there in compare_anisotropy, nice. Now I just need to figure out what the two plots show ;-)
2012-03-22 21:32:13 mb8g11: Does the demagspace needs to be a FunctionSpace if the mesh is 1D? Shouldnt it still be a VectorFunctionSpace?
2012-03-22 21:34:04 mb8g11: Disregard that.
2012-03-22 21:35:07 fangohr___: OOMMF on summer (for Jenkins): should now be available and work.
2012-03-22 21:35:42 mb8g11: If it discovers oommf, then the tests will be considered automatically.
2012-03-22 21:35:58 mb8g11: py.test has a nice "skipif" feature
2012-03-22 21:36:33 mb8g11: Good idea, with the plots.
2012-03-22 21:37:39 mb8g11: Just noticed I am plotting the absolute difference. May make more sense to show the relative one. It's easier to interpret 0, 1 or worse, instead of some numbers.
2012-03-22 21:38:05 fangohr___: Yes.
2012-03-22 21:38:42 mb8g11: And a heap map may be nicer than difference vectors.. quite difficult to interpret as well.
2012-03-22 21:38:46 mb8g11: *heat map
2012-03-22 21:39:55 mb8g11: Yay Gabriel!
2012-03-22 21:41:46 fangohr___: Boy, it is busy here. Hi Gabriel ;-)
2012-03-22 21:41:47 mb8g11: Difference vectors have the advantage of showing if the error is parallel to the correct field, or deviates from it.
2012-03-22 21:41:57 fangohr___: What do you mean with 'heap map'?
2012-03-22 21:42:03 GabrielB: hi hi
2012-03-22 21:42:40 andersej: Gabriel, do you know what the problem is with the Nische solver that breaks the build?
2012-03-22 21:42:50 andersej: *Nitsche
2012-03-22 21:43:38 mb8g11: meant "heat" map, sorry. Using colors to represent the differences, instead of vectors. For instance red is a big difference, green is good or so. That would help to localise the errors (boundary or not).
2012-03-22 21:43:58 mb8g11: But it's getting late, and I'm rambling :)
2012-03-22 21:45:10 GabrielB: hey Anders I will try to run py.test
2012-03-22 21:46:16 GabrielB: I have sent around some results from Convergence testing.
2012-03-22 21:46:51 GabrielB: FK is more accurate at the moment, but GCR has the better convergence behaviour
2012-03-22 21:47:04 fangohr___: Okay, understood. Vectors are fine I guess as their colour can be assigned by length. But try spherical glyphs instead, or even a scalar field which could be visualised with isosurafces or so. I'll try to have a look at the actual data tomorrow.
2012-03-22 21:48:57 andersej: ? The FK solver isn't correct at all. I have removed the solid angle because it was implemented based on a wrong assumption.
2012-03-22 21:49:39 mb8g11: The assumption beeing you were computing something else ;)
2012-03-22 21:49:51 GabrielB: haha I like that it gets a good answer :-)
2012-03-22 21:49:54 andersej: Yes, MA. Thanks.
2012-03-22 21:50:01 mb8g11: Sorry ^^
2012-03-22 21:51:17 GabrielB: I can fix the break in Nitsche Solver. I have been trying to standardize things more in order to make comparisons easier, this is a consequence.
2012-03-22 21:51:41 andersej: Okay
2012-03-22 21:53:13 fangohr___: The plots look nice, Gabriel. But when it says error, what does it actually mean? Is 0.6 meaning that we 60% off? Or is this an absolute error? (Magnitude of m is 1?) Or should we not discuss this at all as the FK is definitely wrong (quoting Anders here)? If so, then what has happened to the GCR solver which seems even worse?
2012-03-22 21:53:40 fangohr___: Have you got the plot creation in a file somewhere? (and what mesh have you used -- netgen or dolfin-UnitSphere?)
2012-03-22 21:54:50 GabrielB: The errors are given in norms, at the moment L2 (integrate over the square of the error function) and discrete max (the maximum difference in the DOF vectors)
2012-03-22 21:55:03 GabrielB: So far I have just UnitSphere's
2012-03-22 21:55:48 GabrielB: the plot creation happens in the python file with matplotlib
2012-03-22 21:56:39 GabrielB: as for why the GCR solver is less accurate I am not sure what is going on? But with the solid angle missing from FK I am guessing the comparison is not really meaningful
2012-03-22 21:59:44 fangohr___: Okay, thanks. I shouldn't really bother you with soo many questions at night.
2012-03-22 22:00:39 andersej: Okay, good night!
2012-03-22 22:01:36 mb8g11: Good night!
2012-03-22 22:04:22 fangohr___: Good night folks.
2012-03-22 22:11:40 GabrielB: good night!
2012-03-22 22:13:16 GabrielB: ok the Nitsche solver tests should be fine now.  I am off to get some sleep good night everyone :-)
2012-03-23 09:09:27 fangohr: Good Morning Anders, DokosBot.
2012-03-23 09:23:07 andersej: Morning!
2012-03-23 12:17:09 andersej: It's pretty quiet in my office today.. Anyone else hungry?
2012-03-23 12:17:26 fangohr: Sure thing.
2012-03-23 12:17:37 fangohr: 12:30?
2012-03-23 12:17:51 andersej: Good.
2012-03-23 12:20:20 SebastianS: sounds good
2012-03-23 12:20:34 maxim|s: i'll join as well
2012-03-23 12:20:58 fangohr: I wouldn't be surprised if Marc-Antonio shows up just before lunch .... ;-)
2012-03-23 12:21:27 andersej: Hehe..
2012-03-23 14:02:33 maxim|s: Hans, can you invite me to finmag, please? I need the analytical solution for one spin.
2012-03-23 14:03:54 fangohr: what is your bitbucket username?
2012-03-23 14:04:22 maxim|s: MaximSkripnik
2012-03-23 15:00:39 fangohr: Maxim, you should have access to the finmag rpoject now.
2012-03-23 15:01:46 maxim|s: thanks
2012-03-23 15:16:32 fangohr: Maxim, go to http://summer.kk.soton.ac.uk:8080/ and create an account for you, then let me know. This should allow you to see the documentation (which is all you need), and then you don't need to compile the code and documentation from source.
2012-03-23 15:23:14 maxim|s: it says access denied
2012-03-23 15:23:40 fangohr: Does it somewhere say 'create account'?
2012-03-23 15:25:03 maxim|s: yes, I created one with username MaximSkripnik
2012-03-23 15:25:29 fangohr: Okay, let me try to activate it.
2012-03-23 15:26:03 maxim|s: i have no read permission
2012-03-23 15:31:00 fangohr: Maxim, could you try again?
2012-03-23 15:33:06 maxim|s: still no access
2012-03-23 15:40:42 maxim|s: but this is not urgent ...
2012-03-23 15:42:34 maxim|s: works now, thanks!
2012-03-23 15:42:55 fangohr: Yeah, got it just now :)
2012-03-23 15:43:02 fangohr: If you go to http://summer.kk.soton.ac.uk:8080/job/finmag/FinMag_documentation/?, you should see the latest documentation.
2012-03-23 15:43:22 fangohr: Section 3.1 is the macrospin example I mentioned.
2012-03-23 15:44:19 fangohr: The correction term (for the length of the documentation) seems to be not documented yet. Ask me (or Marc-Antonio or Anders) when you need it, and we'll find the rigth place in the source.
2012-03-23 15:44:35 maxim|s: ok, btw: the problem was in the code. i try to use these opencl vectorial data types now because the cross product is provided by the opencl library and it makes things infinitely less complicated ...
2012-03-23 15:48:59 maxim|s: i get error 404 when trying to access http://summer.kk.soton.ac.uk:8080/job/finmag/FinMag_documentation/?
2012-03-23 15:50:08 fangohr: Can you try again, please?
2012-03-23 15:51:13 maxim|s: yes, now i can see the documentation, thanks!
2012-03-23 15:56:49 mb8g11: Maxim, you can come by our office anytime.
2012-03-23 16:16:01 maxim|s: I'll visit you as soon as my problems get less trivial than they are now ;)
2012-03-23 16:28:45 andersej: Hans, do you know if py.test are run before make html on Jenkins? And is it run from the top directory?
2012-03-23 16:40:15 andersej: I guess we'll see now...
2012-03-23 22:13:56 mb8g11: who
2012-03-23 22:14:36 mb8g11: Wow, you managed to push your changesets right between my merge and me trying to push my changes as well.
2012-03-23 22:25:34 fangohr___: Hi Marc-Antonio, impressive images.
2012-03-23 22:27:09 mb8g11: Glad to hear their creation doesn't only work on my machine. I would have prefered to save .vtk files (perhaps additionally), but I don't know how to do that yet.
2012-03-23 22:27:10 fangohr___: Yeah, sorry about the timing  ;-)
2012-03-23 22:27:17 mb8g11: np ;)
2012-03-23 22:28:10 fangohr___: I think on Monday, we should have a slightly longer meeting with everybody presenting some results. Fortunately, my earlier meeting is cancelled. I'll send an email to all.
2012-03-23 22:28:57 mb8g11: Ok, I'll prepare the same for the anisotropy then.
2012-03-23 22:30:02 fangohr___: I know the filename encodes what is shown in the image. Is it also possible to display this when the interactive mlab window is displayed? This might be nice to look at the data together.
2012-03-23 22:30:48 fangohr___: Also, a colorer would be nice that shows the meaning of the colours. (No need to do it now, of course.)
2012-03-23 22:30:50 mb8g11: You mean to have the interactive windows have titles?
2012-03-23 22:31:05 fangohr___: Yes.
2012-03-23 22:31:59 mb8g11: @colours: It's a TODO. Basically, the images (especially the ones which show the difference) don't tell that much without a legend explaining the colours.
2012-03-23 22:32:32 mb8g11: @window-titles: I'll look into it.
2012-03-23 22:32:56 fangohr___: Okay, great.
2012-03-23 22:33:26 mb8g11: Quick question, I get confused by matplotlib and mayavi.mlab... Are they the same thing underneath?
2012-03-23 22:33:40 fangohr___: Hmmâ€¦.not sure. I think not.
2012-03-23 22:35:16 mb8g11: @window-titles: Yes.
2012-03-23 22:35:51 mb8g11: Ok.
2012-03-23 22:38:22 fangohr___: One more suggestion: when you work out the relative deviation of some data, you may get NaN if the true value is 0 (because you divide by zero). If this happens for a vector field for one component, then we could work around this: Imagine dx=(H2x-H1x)/H2x where H1 is the finmag solution, H2 the oommf solution and dx is the relative error. Instead of computing dx this way, we could scale the deviation relative to the total magnitude
2012-03-23 22:38:22 fangohr___: vector H2 rather than just the relevant component. So dx2 = (H2x-H1x)/||H2||. It will need a bit of care when interpreting this, but will avoid the NaNs and should be useful.
2012-03-23 22:39:04 fangohr___: (This is thought for printed data on the screen, as seen in finmag/devtests/oommf/compare_exchange.py at the moment.)
2012-03-23 22:40:02 mb8g11: Didn't think that far. Changed the 1D problem so that m0 wiggles a little in the z-component. 3D shows that problem. Will implement your suggestion.
2012-03-23 22:46:39 mb8g11: Is it difficult to save files that can be opened by mayavi?
2012-03-23 23:09:17 mb8g11: Good night!
2012-03-23 23:10:13 fangohr_____: I can only talk about Mayavi1: there you can save a .mv file (which keeps the configuration of what is seen but not the data) and a vtk file separately.
